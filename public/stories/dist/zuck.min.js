var Zuck=function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){e.exports=(n=>{const a=function(e){return document.querySelectorAll(e)[0]},s=function(e,t){return e&&e[t]||""},i=function(e,t){if(e){const n=e.length;for(let a=0;a<n;a++)t(a,e[a])}},o=function(e,t,n){const a=[t.toLowerCase(),`webkit${t}`,`MS${t}`,`o${t}`];i(a,(t,a)=>{e[a]=n})},r=function(e,t,n){const a=[n.toLowerCase(),`webkit${n}`,`MS${n}`,`o${n}`];i(a,(n,a)=>{e.addEventListener(a,t,!1)})},l=function(e,t){r(e,t,"AnimationEnd")},c=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},d=function(e,t){const d=this,u=function(e,n){const a=function(e){return void 0!==e};return n?a(t[e])&&a(t[e][n])?t[e][n]:y[e][n]:a(t[e])?t[e]:y[e]},m=function(e,t){const n="RequestFullScreen",a="requestFullScreen";try{t?(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch(()=>{}):(document.mozCancelFullScreen||document.mozCancelFullScreen)&&document.mozCancelFullScreen().catch(()=>{})):e[a]?e[a]():e[`ms${n}`]?e[`ms${n}`]():e[`moz${n}`]?e[`moz${n}`]():e[`webkit${n}`]&&e[`webkit${n}`]()}catch(e){console.warn("[Zuck.js] Can't access fullscreen")}},p=function(e,t,n,s){const i=t>0?1:-1,r=Math.abs(t)/a("#zuck-modal").offsetWidth*90*i;if(u("cubeEffect")){const e=0===r?"scale(0.95)":"scale(0.930,0.930)";if(o(a("#zuck-modal-content").style,"Transform",e),r<-90||r>90)return!1}const l=u("cubeEffect")?`rotateY(${r}deg)`:`translate3d(${t}px, 0, 0)`;e&&(o(e.style,"TransitionTimingFunction",s),o(e.style,"TransitionDuration",`${n}ms`),o(e.style,"Transform",l))},f=function(e,t,n,a){let s=0,i=0;if(e){if(e.offsetParent)do{if(s+=e.offsetLeft,i+=e.offsetTop,e===a)break}while(e=e.offsetParent);t&&(i-=t),n&&(s-=n)}return[s,i]};"string"==typeof e&&(e=document.getElementById(e)),e.id||e.setAttribute("id","stories-"+Math.random().toString(36).substr(2,9));const v=function(e){e=1e3*Number(e);const t=new Date(e),n=t.getTime();let a=((new Date).getTime()-n)/1e3;const s=u("language","time"),o=[[60,` ${s.seconds}`,1],[120,`1 ${s.minute}`,""],[3600,` ${s.minutes}`,60],[7200,`1 ${s.hour}`,""],[86400,` ${s.hours}`,3600],[172800,` ${s.yesterday}`,""],[604800,` ${s.days}`,86400]];let r=1;a<0&&(a=Math.abs(a),r=2);let l=!1;return i(o,(e,t)=>{a<t[0]&&!l&&("string"==typeof t[2]?l=t[r]:null!==t&&(l=Math.floor(a/t[2])+t[1]))}),l||`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`},h=e.id,y={rtl:!1,skin:"snapgram",avatars:!0,stories:[],backButton:!0,backNative:!1,paginationArrows:!1,previousTap:!0,autoFullScreen:!1,openEffect:!0,cubeEffect:!1,list:!1,localStorage:!0,callbacks:{onOpen:function(e,t){t()},onView:function(e){},onEnd:function(e,t){t()},onClose:function(e,t){t()},onNextItem:function(e,t,n){n()},onNavigateItem:function(e,t,n){n()}},template:{timelineItem:e=>s(e,"profile_ids")?`\n              <div class="story new">\n                <a class="item-link" href="${s(e,"link")}">\n                  <span class="item-preview">\n                    <i class="icon-plus-2"></i>\n                  </span>\n                  <span class="info" itemProp="author" itemScope itemType="http://schema.org/Person">\n                    <strong class="name" itemProp="name">${s(e,"name")}</strong>\n                  </span>\n                </a>\n                <ul class="items"></ul>\n              </div>`:`\n              <div class="story ${!0===s(e,"seen")?"seen":""}">\n                <a class="item-link" href="${s(e,"link")}">\n                  <span class="item-preview">\n                    <img lazy="eager" src="${u("avatars")||!s(e,"currentPreview")?s(e,"photo"):s(e,"currentPreview")}" alt="${s(e,"fullName")}" />\n                  </span>\n                  <span class="info" itemProp="author" itemScope itemType="http://schema.org/Person">\n                    <strong class="name" itemProp="name">${s(e,"name")}</strong>\n                    <span class="time">${v(s(e,"lastUpdated"))}</span>\n                  </span>\n                </a>\n                <ul class="items"></ul>\n              </div>`,timelineStoryItem(e){const t=["id","seen","src","link","linkText","time","type","length","preview"];let n=`\n            href="${s(e,"src")}"\n            data-link="${s(e,"link")}"\n            data-linkText="${s(e,"linkText")}"\n            data-time="${s(e,"time")}"\n            data-type="${s(e,"type")}"\n            data-length="${s(e,"length")}"\n          `;for(var a in e)-1===t.indexOf(a)&&(n+=` data-${a}="${e[a]}"`);return`<a ${n}>\n                    <img loading="auto" src="${s(e,"preview")}" />\n                  </a>`},viewerItem(e,t){let n='<div class="ctas">';return void 0!==e.ctas&&Object.keys(e.ctas).map(t=>{"call"===t?n+=`<a href="" class="call-button" data-ph="${e.ctas[t]}"><i class="icon-call-2"></i></a>`:"profile"===t?n+="":"pm"===t?n+="":"email"===t&&(n+="")}),n+="</div>",`<div class="story-viewer">\n                    <div class="head">\n                      <div class="left">\n                        <a href="${s(e,"link")}">\n                          <span class="item-preview">\n                            <img lazy="eager" class="profilePhoto" src="${s(e,"photo")}" />\n                          </span>\n                          <div class="info">\n                            <strong class="name">${s(e,"fullName")}</strong>\n                            <span class="time">${s(e,"timeAgo")}</span>\n                          </div>\n                        </a>\n                      </div>\n\n                      <div class="right"> \n                        <b class="btn-mute"><i class="icon-sound-volume"></i></b>\n                        <b class="btn-unmute"><i class="icon-sound-2"></i></b>\n                        <span class="loading"></span>\n                        <a class="close" tabIndex="2"><i class="icon-x-2"></i></a>\n                      </div>\n                    </div>\n\n                    <div class="slides-pointers">\n                      <div class="wrap"></div>\n                    </div>\n\n                    ${n}\n\n                    ${u("paginationArrows")?'<div class="slides-pagination">\n                          <span class="previous">&lsaquo;</span>\n                          <span class="next">&rsaquo;</span>\n                        </div>':""}\n                  </div>`},viewerItemPointer:(e,t,n)=>`<span \n                    class="${t===e?"active":""} ${!0===s(n,"seen")?"seen":""}"\n                    data-index="${e}" data-item-id="${s(n,"id")}">\n                      <b style="animation-duration:${""===s(n,"length")?"3":s(n,"length")}s"></b>\n                  </span>`,viewerItemBody:(e,t,n)=>`<div \n                    class="item ${!0===s(n,"seen")?"seen":""} ${t===e?"active":""}"\n                    data-time="${s(n,"time")}" data-type="${s(n,"type")}" data-index="${e}" data-item-id="${s(n,"id")}">\n                    <img loading="auto" class="blur" src="${s(n,"thumb")}" />\n                    ${"video"===s(n,"type")?`<video class="media" muted webkit-playsinline playsinline preload="auto" src="${s(n,"src")}" ${s(n,"type")}></video>`:`<img loading="auto" class="media" src="${s(n,"src")}" ${s(n,"type")} />\n                    `}\n                    <div class="description">${s(n,"description")}</div>\n                  </div>`},language:{unmute:"Touch to unmute",keyboardTip:"Press space to see next",visitLink:"Visit link",time:{ago:"ago",hour:"hour ago",hours:"hours ago",minute:"minute ago",minutes:"minutes ago",fromnow:"from now",seconds:"seconds ago",yesterday:"yesterday",tomorrow:"tomorrow",days:"days ago"}}},g=(()=>{let e=a("#zuck-modal");var t,o;e||d.hasModal||(d.hasModal=!0,(e=document.createElement("div")).id="zuck-modal",u("cubeEffect")&&(e.className="with-cube"),e.innerHTML='<div id="zuck-modal-content"></div>',e.style.display="none",e.setAttribute("tabIndex","1"),e.onkeyup=(({keyCode:e})=>{const t=e;27===t?g.close():13!==t&&32!==t||g.next()}),u("openEffect")&&e.classList.add("with-effects"),u("rtl")&&e.classList.add("rtl"),o=(()=>{e.classList.contains("closed")&&(y.innerHTML="",e.style.display="none",e.classList.remove("closed"),e.classList.remove("animated"))}),(t=e).transitionEndEvent||(t.transitionEndEvent=!0,r(t,o,"TransitionEnd")),document.body.appendChild(e));const y=a("#zuck-modal-content"),b=function(e){const t=a("#zuck-modal");let n="",s="",i=0;const o=a(`#zuck-modal-slider-${h}`),r={previous:a("#zuck-modal .story-viewer.previous"),next:a("#zuck-modal .story-viewer.next"),viewing:a("#zuck-modal .story-viewer.viewing")};if((!r.previous&&!e||!r.next&&e)&&!u("rtl"))return!1;e?(n="next",s="previous"):(n="previous",s="next"),u("cubeEffect")?"previous"===n?i=t.slideWidth:"next"===n&&(i=-1*t.slideWidth):i=-1*f(r[n])[0],p(o,i,600,null),setTimeout(()=>{if(u("rtl")){const e=n;n=s,s=e}if(""!==n&&r[n]&&""!==s){const e=r[n].getAttribute("data-story-id");d.internalData.currentStory=e;const t=a(`#zuck-modal .story-viewer.${s}`);t&&t.parentNode.removeChild(t),r.viewing&&(r.viewing.classList.add("stopped"),r.viewing.classList.add(s),r.viewing.classList.remove("viewing")),r[n]&&(r[n].classList.remove("stopped"),r[n].classList.remove(n),r[n].classList.add("viewing"));const i=k(n);i&&I(i,n);const c=d.internalData.currentStory;let m=a(`#zuck-modal [data-story-id="${c}"]`);if(m){const e=(m=m.querySelectorAll("[data-index].active"))[0].firstElementChild;d.data[c].currentItem=parseInt(m[0].getAttribute("data-index"),10),m[0].innerHTML=`<b style="${e.style.cssText}"></b>`,l(m[0].firstElementChild,()=>{d.nextItem(!1)})}if(p(o,"0",0,null),m){const t=a(`#zuck-modal .story-viewer[data-story-id="${e}"]`);S(t,[m[0],m[1]],!0)}const f=d.internalData.currentStory,v=a(`#${h} [data-id="${f}"]`);v&&(v.classList.add("seen"),d.data[f].seen=!0,d.internalData.seenItems[f]=!0,d.logStat({entity:"story",entity_id:f,stat:"story_opened"}),E("seenItems",d.internalData.seenItems),w()),u("callbacks","onView")(d.internalData.currentStory)}},650)},I=function(e,t,o){const r=a(`#zuck-modal-slider-${h}`),m=s(e,"items");e.timeAgo=m&&m[0]?v(s(m[0],"time")):"";let p="",f="";const y=s(e,"id"),b=document.createElement("div"),k=s(e,"currentItem")||0;if(a(`#zuck-modal .story-viewer[data-story-id="${y}"]`))return!1;b.className="slides",i(m,(t,n)=>{n.timeAgo=v(s(n,"time")),k>t&&(e.items[t].timeAgo=n.timeAgo,e.items[t].seen=!0,n.seen=!0),f+=u("template","viewerItemPointer")(t,k,n),p+=u("template","viewerItemBody")(t,k,n)}),b.innerHTML=p;const w=b.querySelector("video"),L=function(e){e.muted?(I.querySelector(".btn-mute").classList.add("hidden"),I.querySelector(".btn-unmute").classList.remove("hidden"),I.classList.add("muted")):(I.querySelector(".btn-mute").classList.remove("hidden"),I.querySelector(".btn-unmute").classList.add("hidden"),I.classList.remove("muted"))},E=document.createElement("div");E.innerHTML=u("template","viewerItem")(e,k);const I=E.firstElementChild;w?(w.onwaiting=(e=>{w.paused&&(I.classList.add("paused"),I.classList.add("loading"))}),w.onplay=(()=>{L(w),I.classList.remove("stopped"),I.classList.remove("paused"),I.classList.remove("loading")}),w.onload=w.onplaying=w.oncanplay=(()=>{L(w),I.classList.remove("loading")}),w.onvolumechange=(()=>{L(w)})):(I.querySelector(".btn-mute").classList.add("hidden"),I.querySelector(".btn-unmute").classList.add("hidden")),I.className=`story-viewer muted ${t} ${o?"":"stopped"} ${u("backButton")?"with-back-button":""}`,I.setAttribute("data-story-id",y),I.querySelector(".slides-pointers .wrap").innerHTML=f,i(I.querySelectorAll(".close, .back"),(e,t)=>{t.onclick=(e=>{e.preventDefault(),g.close()})}),i(I.querySelectorAll(".btn-mute"),(e,t)=>{t.onclick=(e=>{e.preventDefault();const t=I.querySelector(".item.active").getElementsByTagName("video")[0];t&&x(t,I)})}),i(I.querySelectorAll(".btn-unmute"),(e,t)=>{t.onclick=(e=>{e.preventDefault();const t=I.querySelector(".item.active").getElementsByTagName("video")[0];t&&A(t,I)})}),i(I.querySelectorAll(".call-button"),(e,t)=>{t.onclick=(e=>{e.preventDefault();const a=atob($(t).data("ph"));d.logStat({entity:"story",entity_id:$(I).data("story-id"),stat:"story_cta_phone"},function(){n.location.href="tel:00"+a})})}),i(I.querySelectorAll(".ctas .pm, .ctas .email"),(e,t)=>{t.onclick=(e=>{e.preventDefault();const a=t.href,s=t.href.match(/\#.+/)[0],i=$("#"+s.substr(1));d.logStat({entity:"story",entity_id:$(I).data("story-id"),stat:"story_cta_"+s},function(){"undefined"!=typeof profile_slug?(g.close(),i.length>0&&($("#pm").next(".panel-collapse").collapse("show"),i.addClass("active"),i.addClass("in"),$("html, body").animate({scrollTop:i.offset().top},200))):n.location.href=a})})}),i(I.querySelectorAll(".ctas .profile"),(e,t)=>{t.onclick=(e=>{e.preventDefault();const a=t.href;d.logStat({entity:"story",entity_id:$(I).data("story-id"),stat:"story_cta_profile"},function(){n.location.href=a})})}),I.appendChild(b),"viewing"===t&&S(I,I.querySelectorAll(`[data-index="${k}"].active`),!1),i(I.querySelectorAll(".slides-pointers [data-index] > b"),(e,t)=>{l(t,()=>{d.nextItem(!1)})}),"previous"===t?c(r,I):r.appendChild(I)};return{show(e,t){const s=a("#zuck-modal");u("callbacks","onOpen")(e,function(){y.innerHTML=`<div id="zuck-modal-slider-${h}" class="slider"></div>`;const t=d.data[e],i=t.currentItem||0;!function(e){const t=a("#zuck-modal"),s=e;let i={},o=null,r=null,l=null,c=null,m=null;const v=function(e){const n=a("#zuck-modal .viewing");if("A"===e.target.nodeName)return;const d=e.touches?e.touches[0]:e,u=f(a("#zuck-modal .story-viewer.viewing"));t.slideWidth=a("#zuck-modal .story-viewer").offsetWidth,t.slideHeight=a("#zuck-modal .story-viewer").offsetHeight,i={x:u[0],y:u[1]};const p=d.clientX,v=d.clientY;o={x:p,y:v,time:Date.now(),valid:!0},v<80||v>t.slideHeight-80?o.valid=!1:(e.preventDefault(),r=void 0,l={},s.addEventListener("mousemove",h),s.addEventListener("mouseup",y),s.addEventListener("mouseleave",y),s.addEventListener("touchmove",h),s.addEventListener("touchend",y),n&&n.classList.add("paused"),L(),c=setTimeout(()=>{n.classList.add("longPress")},600),m=setTimeout(()=>{clearInterval(m),m=!1},250))},h=function(e){const t=e.touches?e.touches[0]:e,n=t.clientX,a=t.clientY;o&&o.valid&&(l={x:n-o.x,y:a-o.y},void 0===r&&(r=!!(r||Math.abs(l.x)<Math.abs(l.y))),!r&&o&&(e.preventDefault(),p(s,i.x+l.x,0,null)))},y=function(e){const f=a("#zuck-modal .viewing"),v=o,g=o?Date.now()-o.time:void 0,$=Number(g)<300&&Math.abs(l.x)>25||Math.abs(l.x)>t.slideWidth/3,k=l.x<0,w=a(k?"#zuck-modal .story-viewer.next":"#zuck-modal .story-viewer.previous"),L=k&&!w||!k&&!w;if(o&&!o.valid);else{l&&(r||($&&!L?b(k):p(s,i.x,300)),o=void 0,s.removeEventListener("mousemove",h),s.removeEventListener("mouseup",y),s.removeEventListener("mouseleave",y),s.removeEventListener("touchmove",h),s.removeEventListener("touchend",y));const t=d.internalData.currentVideoElement;if(c&&clearInterval(c),f&&(S(f,f.querySelectorAll(".active"),!1),f.classList.remove("longPress"),f.classList.remove("paused")),m){clearInterval(m),m=!1;const s=function(){k||(v.x>n.screen.availWidth/3||!u("previousTap")?u("rtl")?d.navigateItem("previous",e):d.navigateItem("next",e):u("rtl")?d.navigateItem("next",e):d.navigateItem("previous",e))},i=a("#zuck-modal .viewing");if(s(),!i||!t)return!1}}};s.addEventListener("touchstart",v),s.addEventListener("mousedown",v)}(a(`#zuck-modal-slider-${h}`)),d.internalData.currentStory=e,t.currentItem=i,u("backNative")&&(n.location.hash=`#!${h}`);const o=k("previous");o&&I(o,"previous"),I(t,"viewing",!0);const r=k("next");r&&I(r,"next"),u("autoFullScreen")&&s.classList.add("fullscreen");const l=function(){s.classList.contains("fullscreen")&&u("autoFullScreen")&&n.screen.availWidth<=1024&&m(s),s.focus()};if(u("openEffect")){const t=a(`#${h} [data-id="${e}"] .item-preview`),n=f(t);s.style.marginLeft=`${n[0]+t.offsetWidth/2}px`,s.style.marginTop=`${n[1]+t.offsetHeight/2}px`,s.style.display="block",s.slideWidth=a("#zuck-modal .story-viewer").offsetWidth,setTimeout(()=>{s.classList.add("animated")},10),setTimeout(()=>{l()},300)}else s.style.display="block",s.slideWidth=a("#zuck-modal .story-viewer").offsetWidth,l();const c=d.internalData.currentStory,v=a(`#${h} [data-id="${e}"]`);v&&(v.classList.add("seen"),d.data[c].seen=!0,d.internalData.seenItems[c]=!0,E("seenItems",d.internalData.seenItems),w()),d.logStat({entity:"story",entity_id:e,stat:"story_opened"}),u("callbacks","onView")(e)})},next(e){u("callbacks","onEnd")(d.internalData.currentStory,function(){a("#zuck-modal .story-viewer.next")?u("rtl")?b(!1):b(!0):g.close()})},close(){const e=a("#zuck-modal");u("callbacks","onClose")(d.internalData.currentStory,function(){u("backNative")&&(n.location.hash=""),m(e,!0),u("openEffect")?e.classList.add("closed"):(y.innerHTML="",e.style.display="none")})}}})(),b=function(e,t){const a=e.getAttribute("data-id");if(!a)return;let s=!1;d.internalData.seenItems[a]&&(s=!0);try{d.data[a]||(d.data[a]={}),d.data[a].id=a,d.data[a].photo=e.getAttribute("data-photo"),d.data[a].name=e.querySelector(".name").innerText,d.data[a].fullName=e.getAttribute("data-fullName"),d.data[a].link=e.querySelector(".item-link").getAttribute("href"),d.data[a].lastUpdated=e.getAttribute("data-last-updated"),d.data[a].seen=s,d.data[a].ctas=JSON.parse(e.getAttribute("data-ctas")),d.data[a].items||(d.data[a].items=[],d.data[a].noItems=!0)}catch(e){d.data[a]={items:[]}}e.onclick=(e=>{if(n.zuckScrolling)return e.preventDefault();e.preventDefault(),""!=a||void 0===d.data[0].link?g.show(a):n.location.href=d.data[0].link});const i=u("callbacks","onDataUpdate");i&&i(d.data,()=>{})},k=function(e){const t=d.internalData.currentStory,n=`${e}ElementSibling`;if(t){const e=a(`#${h} [data-id="${t}"]`)[n];if(e){const t=e.getAttribute("data-id");return d.data[t]||!1}}return!1},w=function(){i(document.querySelectorAll(`#${h} .story.seen`),(e,t)=>{const n=d.data[t.getAttribute("data-id")],a=t.parentNode;u("reactive")||a.removeChild(t),d.update(n,!0)})},S=function(e,t,n){const a=t[1],s=t[0];if(L(),!a||!s)return!1;if(d.internalData.currentVideoElement,"video"===a.getAttribute("data-type")){const t=a.getElementsByTagName("video")[0];if(!t)return d.internalData.currentVideoElement=!1,!1;const i=function(){t.duration&&o(s.getElementsByTagName("b")[0].style,"AnimationDuration",`${t.duration}s`)};i(),t.addEventListener("loadedmetadata",i),d.internalData.currentVideoElement=t,(n?n.target:void 0)||(t.currentTime=0),I("isMuted")?(t.muted=!0,t.volume=0,t.setAttribute("muted",!0),e.querySelector(".btn-mute").classList.add("hidden"),e.querySelector(".btn-unmute").classList.remove("hidden")):(t.muted=!1,t.volume=1,t.removeAttribute("muted"),e.querySelector(".btn-mute").classList.remove("hidden"),e.querySelector(".btn-unmute").classList.add("hidden")),t.play().then(()=>{t.paused&&t.play(),e&&(e.classList.remove("paused"),I("isMuted")?e.classList.add("muted"):e.classList.remove("muted"))}).catch(e=>!0)}else d.internalData.currentVideoElement=!1,e.querySelector(".btn-mute").classList.add("hidden"),e.querySelector(".btn-unmute").classList.add("hidden")},L=function(){const e=d.internalData.currentVideoElement;if(e)try{e.pause()}catch(e){}},A=function(e,t){try{t||(t=a("#zuck-modal .viewing div.item.active")),e=d.internalData.currentVideoElement||e,E("isMuted",!1),e.muted=!1,e.volume=1,e.removeAttribute("muted"),e.play().then(()=>{e.paused&&e.play(),t&&(t.classList.remove("paused"),t.classList.remove("muted"),t.querySelector(".btn-mute").classList.remove("hidden"),t.querySelector(".btn-unmute").classList.add("hidden"))})}catch(e){console.log(e)}},x=function(e,t){try{t||(t=a("#zuck-modal .viewing div.item.active")),e=d.internalData.currentVideoElement||e,E("isMuted",!0),e.muted=!0,e.volume=0,e.setAttribute("muted",!0),e.play().then(()=>{t&&(t.classList.remove("paused"),t.classList.add("muted"),t.querySelector(".btn-mute").classList.add("hidden"),t.querySelector(".btn-unmute").classList.remove("hidden"))})}catch(e){console.log(e)}},E=function(e,t){try{if(u("localStorage")){const a=`zuck-${h}-${e}`;n.localStorage[a]=JSON.stringify(t)}}catch(e){}},I=function(e){if(u("localStorage")){const t=`zuck-${h}-${e}`;return!!n.localStorage[t]&&JSON.parse(n.localStorage[t])}return!1};return d.data=u("stories")||{},d.internalData={},d.internalData.seenItems=I("seenItems")||{},d.add=d.update=((t,n)=>{const o=s(t,"id"),r=a(`#${h} [data-id="${o}"]`),l=s(t,"items"),m=s(t,"ctas");let p,f=!1;if(l[0]&&(f=l[0].preview||""),!0===d.internalData.seenItems[o]&&(t.seen=!0),t.currentPreview=f,r)p=r;else{const e=document.createElement("div");e.innerHTML=u("template","timelineItem")(t),p=e.firstElementChild}!1===t.seen&&(d.internalData.seenItems[o]=!1,E("seenItems",d.internalData.seenItems)),p.setAttribute("data-id",o),p.setAttribute("data-photo",s(t,"photo")),p.setAttribute("data-last-updated",s(t,"lastUpdated")),p.setAttribute("data-ctas",JSON.stringify(m)),p.setAttribute("data-fullName",s(t,"fullName")),b(p),r||u("reactive")||(n?e.appendChild(p):c(e,p)),i(l,(e,t)=>{d.addItem(o,t,n)}),n||w()}),d.next=(()=>{g.next()}),d.remove=(e=>{const t=a(`#${h} > [data-id="${e}"]`);t.parentNode.removeChild(t)}),d.addItem=((e,t,n)=>{const o=a(`#${h} > [data-id="${e}"]`);if(!u("reactive")){const e=document.createElement("li"),a=o.querySelectorAll(".items")[0];e.className=s(t,"seen")?"seen":"",e.setAttribute("data-id",s(t,"id")),e.innerHTML=u("template","timelineStoryItem")(t),n?a.appendChild(e):c(a,e)}!function(e,t){const n=o.getAttribute("data-id"),a=document.querySelectorAll(`#${h} [data-id="${n}"] .items > li`),s=[];if(!u("reactive")){i(a,(e,{firstElementChild:t})=>{const n=t,a=n.firstElementChild,i={id:n.getAttribute("data-id"),src:n.getAttribute("href"),length:n.getAttribute("data-length"),type:n.getAttribute("data-type"),time:n.getAttribute("data-time"),link:n.getAttribute("data-link"),linkText:n.getAttribute("data-linkText"),preview:a.getAttribute("src")},o=n.attributes,r=["data-id","href","data-length","data-type","data-time","data-link","data-linktext"];for(let e=0;e<o.length;e++)-1===r.indexOf(o[e].nodeName)&&(i[o[e].nodeName.replace("data-","")]=o[e].nodeValue);s.push(i)}),d.data[n].items=s;const e=u("callbacks","onDataUpdate");e&&e(d.data,()=>{})}}()}),d.removeItem=((t,n)=>{const s=a(`#${h} > [data-id="${t}"] [data-id="${n}"]`);u("reactive")||e.parentNode.removeChild(s)}),d.navigateItem=d.nextItem=((e,t)=>{const n=d.internalData.currentStory,s=d.data[n].currentItem,o=a(`#zuck-modal .story-viewer[data-story-id="${n}"]`),r="previous"===e?-1:1;if(!o||1===o.touchMove)return!1;const l=o.querySelectorAll(`[data-index="${s}"]`),c=l[0],m=l[1],p=s+r,f=o.querySelectorAll(`[data-index="${p}"]`),h=f[0],y=f[1];if(o&&h&&y){const t=function(){"previous"===e?(c.classList.remove("seen"),m.classList.remove("seen")):(c.classList.add("seen"),m.classList.add("seen")),c.classList.remove("active"),m.classList.remove("active"),h.classList.remove("seen"),h.classList.add("active"),y.classList.remove("seen"),y.classList.add("active"),i(o.querySelectorAll(".time"),(e,t)=>{t.innerText=v(y.getAttribute("data-time"))}),d.data[n].currentItem=d.data[n].currentItem+r,S(o,f,!1)};let a=u("callbacks","onNavigateItem");(a=u("callbacks",a?"onNavigateItem":"onNextItem"))(n,y.getAttribute("data-story-id"),t)}else o&&"previous"!==e&&g.next(t)}),d.logStat=((e,t=function(){})=>{void 0!==e.entity_id&&(e.entity_id=e.entity_id.slice(2),$.post("/ajax/stats/save",e,"json").always(t))}),function(){if(e&&e.querySelector(".story")&&i(e.querySelectorAll(".story"),(e,t)=>{b(t)}),u("backNative")&&(n.location.hash===`#!${h}`&&(n.location.hash=""),n.addEventListener("popstate",e=>{n.location.hash!==`#!${h}`&&(n.location.hash="")},!1)),!u("reactive")){const e=I("seenItems");i(Object.keys(e),(t,n)=>{d.data[n]&&(d.data[n].seen=e[n])})}i(u("stories"),(e,t)=>{d.add(t,!0)}),w();const t=u("avatars")?"user-icon":"story-preview",a=u("list")?"list":"carousel",s=u("rtl")?"rtl":"";return e.className+=` stories ${t} ${a} ${`${u("skin")}`.toLowerCase()} ${s}`,d}()};return d.buildTimelineItem=((e,t,n,a,s,o)=>{const r={id:e,photo:t,name:n,link:a,lastUpdated:s,items:[]};return i(o,(e,t)=>{r.items.push(d.buildStoryItem.apply(d,t))}),r}),d.buildItem=d.buildStoryItem=((e,t,n,a,s,i,o,r,l)=>({id:e,type:t,length:n,src:a,preview:s,link:i,linkText:o,seen:r,time:l})),e.exports&&(t=e.exports=d),t.ZuckJS=d,d})(window||{})}]),LZString=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function s(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,function(n){return s(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":i._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,s=t.length;a<s;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),a=0,s=n.length;a<s;a++)n[a]=256*t[2*a]+t[2*a+1];var o=[];return n.forEach(function(t){o.push(e(t))}),i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,function(t){return s(n,e.charAt(t))}))},compress:function(t){return i._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var a,s,i,o={},r={},l="",c="",d="",u=2,m=3,p=2,f=[],v=0,h=0;for(i=0;i<e.length;i+=1)if(l=e.charAt(i),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=m++,r[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(o,c))d=c;else{if(Object.prototype.hasOwnProperty.call(r,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)v<<=1,h==t-1?(h=0,f.push(n(v)),v=0):h++;for(s=d.charCodeAt(0),a=0;a<8;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1}else{for(s=1,a=0;a<p;a++)v=v<<1|s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s=0;for(s=d.charCodeAt(0),a=0;a<16;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1}0==--u&&(u=Math.pow(2,p),p++),delete r[d]}else for(s=o[d],a=0;a<p;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1;0==--u&&(u=Math.pow(2,p),p++),o[c]=m++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(r,d)){if(d.charCodeAt(0)<256){for(a=0;a<p;a++)v<<=1,h==t-1?(h=0,f.push(n(v)),v=0):h++;for(s=d.charCodeAt(0),a=0;a<8;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1}else{for(s=1,a=0;a<p;a++)v=v<<1|s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s=0;for(s=d.charCodeAt(0),a=0;a<16;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1}0==--u&&(u=Math.pow(2,p),p++),delete r[d]}else for(s=o[d],a=0;a<p;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1;0==--u&&(u=Math.pow(2,p),p++)}for(s=2,a=0;a<p;a++)v=v<<1|1&s,h==t-1?(h=0,f.push(n(v)),v=0):h++,s>>=1;for(;;){if(v<<=1,h==t-1){f.push(n(v));break}h++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,a){var s,i,o,r,l,c,d,u=[],m=4,p=4,f=3,v="",h=[],y={val:a(0),position:n,index:1};for(s=0;s<3;s+=1)u[s]=s;for(o=0,l=Math.pow(2,2),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;d=e(o);break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;d=e(o);break;case 2:return""}for(u[3]=d,i=d,h.push(d);;){if(y.index>t)return"";for(o=0,l=Math.pow(2,f),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;switch(d=o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;u[p++]=e(o),d=p-1,m--;break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)r=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=a(y.index++)),o|=(r>0?1:0)*c,c<<=1;u[p++]=e(o),d=p-1,m--;break;case 2:return h.join("")}if(0==m&&(m=Math.pow(2,f),f++),u[d])v=u[d];else{if(d!==p)return null;v=i+i.charAt(0)}h.push(v),u[p++]=i+v.charAt(0),i=v,0==--m&&(m=Math.pow(2,f),f++)}}};return i}();